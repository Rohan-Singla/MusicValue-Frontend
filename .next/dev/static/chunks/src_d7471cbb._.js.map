{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/MusicValue/app/src/services/audius.ts"],"sourcesContent":["import { AUDIUS_API_KEY, AUDIUS_API_BASE } from \"@/lib/constants\";\n\nconst BASE_URL = AUDIUS_API_BASE;\n\nexport interface AudiusUser {\n  id: string;\n  name: string;\n  handle: string;\n  profile_picture: {\n    \"150x150\": string;\n    \"480x480\": string;\n    \"1000x1000\": string;\n  } | null;\n  follower_count: number;\n}\n\nexport interface AudiusTrack {\n  id: string;\n  title: string;\n  artwork: {\n    \"150x150\": string;\n    \"480x480\": string;\n    \"1000x1000\": string;\n  };\n  description: string;\n  genre: string;\n  mood: string;\n  play_count: number;\n  favorite_count: number;\n  repost_count: number;\n  duration: number;\n  user: AudiusUser;\n}\n\nasync function audiusFetch<T>(endpoint: string, params?: Record<string, string>): Promise<T> {\n  const url = new URL(`${BASE_URL}${endpoint}`);\n\n  if (params) {\n    for (const [key, value] of Object.entries(params)) {\n      if (value !== undefined && value !== \"\") {\n        url.searchParams.set(key, value);\n      }\n    }\n  }\n\n  const response = await fetch(url.toString(), {\n    headers: {\n      Authorization: `Bearer ${AUDIUS_API_KEY}`,\n      Accept: \"application/json\",\n    },\n  });\n\n  if (!response.ok) {\n    throw new Error(\n      `Audius API error: ${response.status} ${response.statusText}`\n    );\n  }\n\n  const json = await response.json();\n  return json.data as T;\n}\n\nexport async function getTrack(trackId: string): Promise<AudiusTrack> {\n  return audiusFetch<AudiusTrack>(`/tracks/${trackId}`);\n}\n\nexport async function getTrendingTracks(\n  limit?: number,\n  genre?: string,\n  time?: \"week\" | \"month\" | \"allTime\"\n): Promise<AudiusTrack[]> {\n  const params: Record<string, string> = {};\n\n  if (limit !== undefined) {\n    params.limit = String(limit);\n  }\n  if (genre) {\n    params.genre = genre;\n  }\n  if (time) {\n    params.time = time;\n  }\n\n  return audiusFetch<AudiusTrack[]>(\"/tracks/trending\", params);\n}\n\nexport async function searchTracks(\n  query: string,\n  limit?: number\n): Promise<AudiusTrack[]> {\n  const params: Record<string, string> = { query };\n\n  if (limit !== undefined) {\n    params.limit = String(limit);\n  }\n\n  return audiusFetch<AudiusTrack[]>(\"/tracks/search\", params);\n}\n\nexport async function getUserTracks(userId: string): Promise<AudiusTrack[]> {\n  return audiusFetch<AudiusTrack[]>(`/users/${userId}/tracks`, { limit: \"100\" });\n}\n\n/** Get the direct stream URL for a track */\nexport function getTrackStreamUrl(trackId: string): string {\n  const url = new URL(`${BASE_URL}/tracks/${trackId}/stream`);\n  if (AUDIUS_API_KEY) {\n    url.searchParams.set(\"api_key\", AUDIUS_API_KEY);\n  }\n  return url.toString();\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEA,MAAM,WAAW,6IAAe;AAgChC,eAAe,YAAe,QAAgB,EAAE,MAA+B;IAC7E,MAAM,MAAM,IAAI,IAAI,GAAG,WAAW,UAAU;IAE5C,IAAI,QAAQ;QACV,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,QAAS;YACjD,IAAI,UAAU,aAAa,UAAU,IAAI;gBACvC,IAAI,YAAY,CAAC,GAAG,CAAC,KAAK;YAC5B;QACF;IACF;IAEA,MAAM,WAAW,MAAM,MAAM,IAAI,QAAQ,IAAI;QAC3C,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,4IAAc,EAAE;YACzC,QAAQ;QACV;IACF;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MACR,CAAC,kBAAkB,EAAE,SAAS,MAAM,CAAC,CAAC,EAAE,SAAS,UAAU,EAAE;IAEjE;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,SAAS,OAAe;IAC5C,OAAO,YAAyB,CAAC,QAAQ,EAAE,SAAS;AACtD;AAEO,eAAe,kBACpB,KAAc,EACd,KAAc,EACd,IAAmC;IAEnC,MAAM,SAAiC,CAAC;IAExC,IAAI,UAAU,WAAW;QACvB,OAAO,KAAK,GAAG,OAAO;IACxB;IACA,IAAI,OAAO;QACT,OAAO,KAAK,GAAG;IACjB;IACA,IAAI,MAAM;QACR,OAAO,IAAI,GAAG;IAChB;IAEA,OAAO,YAA2B,oBAAoB;AACxD;AAEO,eAAe,aACpB,KAAa,EACb,KAAc;IAEd,MAAM,SAAiC;QAAE;IAAM;IAE/C,IAAI,UAAU,WAAW;QACvB,OAAO,KAAK,GAAG,OAAO;IACxB;IAEA,OAAO,YAA2B,kBAAkB;AACtD;AAEO,eAAe,cAAc,MAAc;IAChD,OAAO,YAA2B,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC,EAAE;QAAE,OAAO;IAAM;AAC9E;AAGO,SAAS,kBAAkB,OAAe;IAC/C,MAAM,MAAM,IAAI,IAAI,GAAG,SAAS,QAAQ,EAAE,QAAQ,OAAO,CAAC;IAC1D,IAAI,4IAAc,EAAE;QAClB,IAAI,YAAY,CAAC,GAAG,CAAC,WAAW,4IAAc;IAChD;IACA,OAAO,IAAI,QAAQ;AACrB"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///D:/MusicValue/app/src/hooks/useAudius.ts"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport {\n  getTrack,\n  getTrendingTracks,\n  searchTracks,\n} from \"@/services/audius\";\n\nexport function useTrack(trackId: string | undefined) {\n  return useQuery({\n    queryKey: [\"audius\", \"track\", trackId],\n    queryFn: () => getTrack(trackId!),\n    enabled: trackId !== undefined,\n  });\n}\n\nexport function useTrendingTracks(limit?: number) {\n  return useQuery({\n    queryKey: [\"audius\", \"trending\", limit],\n    queryFn: () => getTrendingTracks(limit),\n  });\n}\n\nexport function useSearchTracks(query: string) {\n  return useQuery({\n    queryKey: [\"audius\", \"search\", query],\n    queryFn: () => searchTracks(query),\n    enabled: query.length > 2,\n  });\n}\n"],"names":[],"mappings":";;;;;;;;AAEA;AACA;;AAHA;;;AASO,SAAS,SAAS,OAA2B;;IAClD,OAAO,IAAA,2RAAQ,EAAC;QACd,UAAU;YAAC;YAAU;YAAS;SAAQ;QACtC,OAAO;iCAAE,IAAM,IAAA,wIAAQ,EAAC;;QACxB,SAAS,YAAY;IACvB;AACF;GANgB;;QACP,2RAAQ;;;AAOV,SAAS,kBAAkB,KAAc;;IAC9C,OAAO,IAAA,2RAAQ,EAAC;QACd,UAAU;YAAC;YAAU;YAAY;SAAM;QACvC,OAAO;0CAAE,IAAM,IAAA,iJAAiB,EAAC;;IACnC;AACF;IALgB;;QACP,2RAAQ;;;AAMV,SAAS,gBAAgB,KAAa;;IAC3C,OAAO,IAAA,2RAAQ,EAAC;QACd,UAAU;YAAC;YAAU;YAAU;SAAM;QACrC,OAAO;wCAAE,IAAM,IAAA,4IAAY,EAAC;;QAC5B,SAAS,MAAM,MAAM,GAAG;IAC1B;AACF;IANgB;;QACP,2RAAQ"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/lib/idl.json"],"sourcesContent":["{\"address\":\"Atf26b8XuQ49cmvfTsvU5PjZ56zhoCvFiGQ7bBW2zoio\",\"metadata\":{\"name\":\"music_value\",\"version\":\"0.1.0\",\"spec\":\"0.1.0\",\"description\":\"MusicValue - Fans back music tracks and earn yield\"},\"instructions\":[{\"name\":\"deposit\",\"discriminator\":[242,35,198,137,82,225,242,182],\"accounts\":[{\"name\":\"user\",\"writable\":true,\"signer\":true},{\"name\":\"vault\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[118,97,117,108,116]},{\"kind\":\"account\",\"path\":\"vault.audius_track_id\",\"account\":\"TrackVault\"}]}},{\"name\":\"user_position\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[112,111,115,105,116,105,111,110]},{\"kind\":\"account\",\"path\":\"vault\"},{\"kind\":\"account\",\"path\":\"user\"}]}},{\"name\":\"user_usdc\",\"writable\":true},{\"name\":\"vault_token_account\",\"writable\":true},{\"name\":\"share_mint\",\"writable\":true},{\"name\":\"user_shares\",\"writable\":true},{\"name\":\"token_program\",\"address\":\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"},{\"name\":\"system_program\",\"address\":\"11111111111111111111111111111111\"}],\"args\":[{\"name\":\"amount\",\"type\":\"u64\"}]},{\"name\":\"distribute_yield\",\"discriminator\":[233,92,186,157,235,238,212,114],\"accounts\":[{\"name\":\"authority\",\"writable\":true,\"signer\":true},{\"name\":\"vault\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[118,97,117,108,116]},{\"kind\":\"account\",\"path\":\"vault.audius_track_id\",\"account\":\"TrackVault\"}]}},{\"name\":\"authority_usdc\",\"writable\":true},{\"name\":\"vault_token_account\",\"writable\":true},{\"name\":\"token_program\",\"address\":\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"}],\"args\":[{\"name\":\"amount\",\"type\":\"u64\"}]},{\"name\":\"initialize_vault\",\"discriminator\":[48,191,163,44,71,129,63,164],\"accounts\":[{\"name\":\"authority\",\"writable\":true,\"signer\":true},{\"name\":\"vault\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[118,97,117,108,116]},{\"kind\":\"arg\",\"path\":\"audius_track_id\"}]}},{\"name\":\"usdc_mint\"},{\"name\":\"vault_token_account\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[118,97,117,108,116,95,116,111,107,101,110]},{\"kind\":\"account\",\"path\":\"vault\"}]}},{\"name\":\"share_mint\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[115,104,97,114,101,95,109,105,110,116]},{\"kind\":\"account\",\"path\":\"vault\"}]}},{\"name\":\"token_program\",\"address\":\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"},{\"name\":\"system_program\",\"address\":\"11111111111111111111111111111111\"},{\"name\":\"rent\",\"address\":\"SysvarRent111111111111111111111111111111111\"}],\"args\":[{\"name\":\"audius_track_id\",\"type\":\"string\"},{\"name\":\"cap\",\"type\":\"u64\"},{\"name\":\"royalty_pct\",\"type\":\"u8\"},{\"name\":\"distribution_interval\",\"type\":\"u8\"},{\"name\":\"vault_duration_months\",\"type\":\"u16\"},{\"name\":\"pledge_note\",\"type\":\"string\"}]},{\"name\":\"update_pledge\",\"discriminator\":[45,167,165,215,223,29,200,170],\"accounts\":[{\"name\":\"authority\",\"writable\":true,\"signer\":true},{\"name\":\"vault\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[118,97,117,108,116]},{\"kind\":\"account\",\"path\":\"vault.audius_track_id\",\"account\":\"TrackVault\"}]}}],\"args\":[{\"name\":\"royalty_pct\",\"type\":\"u8\"},{\"name\":\"distribution_interval\",\"type\":\"u8\"},{\"name\":\"vault_duration_months\",\"type\":\"u16\"},{\"name\":\"pledge_note\",\"type\":\"string\"}]},{\"name\":\"withdraw\",\"discriminator\":[183,18,70,156,148,109,161,34],\"accounts\":[{\"name\":\"user\",\"writable\":true,\"signer\":true},{\"name\":\"vault\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[118,97,117,108,116]},{\"kind\":\"account\",\"path\":\"vault.audius_track_id\",\"account\":\"TrackVault\"}]}},{\"name\":\"user_position\",\"writable\":true,\"pda\":{\"seeds\":[{\"kind\":\"const\",\"value\":[112,111,115,105,116,105,111,110]},{\"kind\":\"account\",\"path\":\"vault\"},{\"kind\":\"account\",\"path\":\"user\"}]}},{\"name\":\"vault_token_account\",\"writable\":true},{\"name\":\"user_usdc\",\"writable\":true},{\"name\":\"share_mint\",\"writable\":true},{\"name\":\"user_shares\",\"writable\":true},{\"name\":\"token_program\",\"address\":\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"}],\"args\":[{\"name\":\"shares\",\"type\":\"u64\"}]}],\"accounts\":[{\"name\":\"TrackVault\",\"discriminator\":[106,106,191,101,238,81,75,254]},{\"name\":\"UserPosition\",\"discriminator\":[251,248,209,245,83,234,17,27]}],\"errors\":[{\"code\":6000,\"name\":\"VaultCapExceeded\",\"msg\":\"Vault has reached its funding cap\"},{\"code\":6001,\"name\":\"ZeroDeposit\",\"msg\":\"Deposit amount must be greater than zero\"},{\"code\":6002,\"name\":\"InsufficientShares\",\"msg\":\"Insufficient shares to withdraw\"},{\"code\":6003,\"name\":\"ZeroWithdraw\",\"msg\":\"Withdraw amount must be greater than zero\"},{\"code\":6004,\"name\":\"TrackIdTooLong\",\"msg\":\"Audius track ID is too long (max 32 characters)\"},{\"code\":6005,\"name\":\"InvalidCap\",\"msg\":\"Vault cap must be greater than zero\"},{\"code\":6006,\"name\":\"Unauthorized\",\"msg\":\"Only the vault authority can perform this action\"},{\"code\":6007,\"name\":\"NoShareholders\",\"msg\":\"Cannot distribute yield when there are no shareholders\"},{\"code\":6008,\"name\":\"InvalidRoyaltyPct\",\"msg\":\"Royalty percentage must be between 0 and 100\"},{\"code\":6009,\"name\":\"InvalidDistributionInterval\",\"msg\":\"Distribution interval must be 0 (monthly), 1 (quarterly), or 2 (milestone)\"},{\"code\":6010,\"name\":\"PledgeNoteTooLong\",\"msg\":\"Pledge note is too long (max 200 characters)\"}],\"types\":[{\"name\":\"TrackVault\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"authority\",\"type\":\"pubkey\"},{\"name\":\"audius_track_id\",\"type\":\"string\"},{\"name\":\"usdc_mint\",\"type\":\"pubkey\"},{\"name\":\"vault_token_account\",\"type\":\"pubkey\"},{\"name\":\"share_mint\",\"type\":\"pubkey\"},{\"name\":\"total_deposited\",\"type\":\"u64\"},{\"name\":\"cap\",\"type\":\"u64\"},{\"name\":\"total_shares\",\"type\":\"u64\"},{\"name\":\"created_at\",\"type\":\"i64\"},{\"name\":\"bump\",\"type\":\"u8\"},{\"name\":\"royalty_pct\",\"type\":\"u8\"},{\"name\":\"distribution_interval\",\"type\":\"u8\"},{\"name\":\"vault_duration_months\",\"type\":\"u16\"},{\"name\":\"pledge_note\",\"type\":\"string\"},{\"name\":\"total_yield_distributed\",\"type\":\"u64\"}]}},{\"name\":\"UserPosition\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"owner\",\"type\":\"pubkey\"},{\"name\":\"vault\",\"type\":\"pubkey\"},{\"name\":\"shares_held\",\"type\":\"u64\"},{\"name\":\"total_deposited\",\"type\":\"u64\"},{\"name\":\"deposited_at\",\"type\":\"i64\"},{\"name\":\"bump\",\"type\":\"u8\"}]}}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 160, "column": 6027}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///D:/MusicValue/app/src/hooks/useVault.ts"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport { useConnection, useWallet } from \"@solana/wallet-adapter-react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { PublicKey, SystemProgram, SYSVAR_RENT_PUBKEY } from \"@solana/web3.js\";\nimport {\n  getAssociatedTokenAddress,\n  TOKEN_PROGRAM_ID,\n  createAssociatedTokenAccountInstruction,\n  getAccount,\n} from \"@solana/spl-token\";\nimport { Program, AnchorProvider, BN } from \"@coral-xyz/anchor\";\nimport { PROGRAM_ID_STR, USDC_MINT_STR } from \"@/lib/constants\";\nimport { getTrack, AudiusTrack } from \"@/services/audius\";\n\nimport idl from \"@/lib/idl.json\";\n\nfunction programId() {\n  return new PublicKey(PROGRAM_ID_STR);\n}\n\nfunction usdcMint() {\n  return new PublicKey(USDC_MINT_STR);\n}\n\nfunction useProgram() {\n  const { connection } = useConnection();\n  const wallet = useWallet();\n\n  return useMemo(() => {\n    if (!wallet.publicKey || !wallet.signTransaction) return null;\n\n    try {\n      const freshPublicKey = new PublicKey(wallet.publicKey.toBytes());\n\n      const wrappedWallet = {\n        publicKey: freshPublicKey,\n        signTransaction: wallet.signTransaction,\n        signAllTransactions: wallet.signAllTransactions,\n      };\n\n      const provider = new AnchorProvider(\n        connection,\n        wrappedWallet as any,\n        AnchorProvider.defaultOptions()\n      );\n\n      // Anchor 0.30+ new IDL format: Program constructor reads address from IDL\n      return new Program(idl as any, provider);\n    } catch (e) {\n      console.warn(\"Failed to initialize Anchor program:\", e);\n      return null;\n    }\n  }, [connection, wallet]);\n}\n\nfunction getVaultPda(trackId: string) {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"vault\"), Buffer.from(trackId)],\n    programId()\n  );\n}\n\nfunction getVaultTokenPda(vaultPda: PublicKey) {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"vault_token\"), vaultPda.toBuffer()],\n    programId()\n  );\n}\n\nfunction getShareMintPda(vaultPda: PublicKey) {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"share_mint\"), vaultPda.toBuffer()],\n    programId()\n  );\n}\n\nfunction getUserPositionPda(vaultPda: PublicKey, user: PublicKey) {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"position\"), vaultPda.toBuffer(), user.toBuffer()],\n    programId()\n  );\n}\n\n/** Fetch vault state for a track */\nexport function useVault(trackId: string | undefined) {\n  const program = useProgram();\n\n  return useQuery({\n    queryKey: [\"vault\", trackId],\n    queryFn: async () => {\n      if (!program || !trackId) return null;\n      const [vaultPda] = getVaultPda(trackId);\n      try {\n        const vault = await (program.account as any).trackVault.fetch(vaultPda);\n        return {\n          address: vaultPda,\n          audiusTrackId: vault.audiusTrackId as string,\n          totalDeposited: (vault.totalDeposited as BN).toNumber(),\n          cap: (vault.cap as BN).toNumber(),\n          totalShares: (vault.totalShares as BN).toNumber(),\n          authority: vault.authority as PublicKey,\n          shareMint: vault.shareMint as PublicKey,\n          royaltyPct: (vault.royaltyPct as number) ?? 0,\n          distributionInterval: (vault.distributionInterval as number) ?? 0,\n          vaultDurationMonths: (vault.vaultDurationMonths as number) ?? 0,\n          pledgeNote: (vault.pledgeNote as string) ?? \"\",\n          totalYieldDistributed: (vault.totalYieldDistributed as BN).toNumber(),\n        };\n      } catch {\n        return null;\n      }\n    },\n    enabled: !!program && !!trackId,\n  });\n}\n\n/** Fetch user's position in a vault */\nexport function useUserPosition(trackId: string | undefined) {\n  const program = useProgram();\n  const { publicKey } = useWallet();\n\n  return useQuery({\n    queryKey: [\"position\", trackId, publicKey?.toBase58()],\n    queryFn: async () => {\n      if (!program || !trackId || !publicKey) return null;\n      const [vaultPda] = getVaultPda(trackId);\n      const [positionPda] = getUserPositionPda(vaultPda, publicKey);\n      try {\n        const position = await (program.account as any).userPosition.fetch(\n          positionPda\n        );\n        return {\n          sharesHeld: (position.sharesHeld as BN).toNumber(),\n          totalDeposited: (position.totalDeposited as BN).toNumber(),\n          depositedAt: (position.depositedAt as BN).toNumber(),\n        };\n      } catch {\n        return null;\n      }\n    },\n    enabled: !!program && !!trackId && !!publicKey,\n  });\n}\n\nexport interface InitializeVaultParams {\n  cap: number;\n  royaltyPct: number;\n  distributionInterval: number; // 0=monthly, 1=quarterly, 2=milestone\n  vaultDurationMonths: number;  // 0 = ongoing\n  pledgeNote: string;\n}\n\n/** Initialize a vault for a track with a royalty pledge */\nexport function useInitializeVault(trackId: string) {\n  const program = useProgram();\n  const { publicKey } = useWallet();\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (params: InitializeVaultParams) => {\n      if (!program || !publicKey) throw new Error(\"Wallet not connected\");\n\n      const mint = usdcMint();\n      const [vaultPda] = getVaultPda(trackId);\n      const [vaultTokenAccount] = getVaultTokenPda(vaultPda);\n      const [shareMint] = getShareMintPda(vaultPda);\n\n      const tx = await (program.methods as any)\n        .initializeVault(\n          trackId,\n          new BN(params.cap),\n          params.royaltyPct,\n          params.distributionInterval,\n          params.vaultDurationMonths,\n          params.pledgeNote\n        )\n        .accounts({\n          authority: publicKey,\n          vault: vaultPda,\n          usdcMint: mint,\n          vaultTokenAccount,\n          shareMint,\n          tokenProgram: TOKEN_PROGRAM_ID,\n          systemProgram: SystemProgram.programId,\n          rent: SYSVAR_RENT_PUBKEY,\n        })\n        .rpc();\n\n      return tx;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"vault\", trackId] });\n    },\n  });\n}\n\n/** Deposit USDC into a track vault */\nexport function useDeposit(trackId: string) {\n  const program = useProgram();\n  const { publicKey } = useWallet();\n  const { connection } = useConnection();\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (amount: number) => {\n      if (!program || !publicKey) throw new Error(\"Wallet not connected\");\n\n      const mint = usdcMint();\n      const [vaultPda] = getVaultPda(trackId);\n      const [vaultTokenAccount] = getVaultTokenPda(vaultPda);\n      const [shareMint] = getShareMintPda(vaultPda);\n      const [userPosition] = getUserPositionPda(vaultPda, publicKey);\n\n      const userUsdc = await getAssociatedTokenAddress(mint, publicKey);\n      const userShares = await getAssociatedTokenAddress(shareMint, publicKey);\n\n      // Check if user share account exists, if not create it\n      let preIx: any[] = [];\n      try {\n        await getAccount(connection, userShares);\n      } catch {\n        preIx.push(\n          createAssociatedTokenAccountInstruction(\n            publicKey,\n            userShares,\n            publicKey,\n            shareMint\n          )\n        );\n      }\n\n      const builder = (program.methods as any)\n        .deposit(new BN(amount))\n        .accounts({\n          user: publicKey,\n          vault: vaultPda,\n          userPosition,\n          userUsdc,\n          vaultTokenAccount,\n          shareMint,\n          userShares,\n          tokenProgram: TOKEN_PROGRAM_ID,\n          systemProgram: SystemProgram.programId,\n        });\n\n      if (preIx.length > 0) {\n        builder.preInstructions(preIx);\n      }\n\n      return await builder.rpc();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"vault\", trackId] });\n      queryClient.invalidateQueries({ queryKey: [\"position\", trackId] });\n    },\n  });\n}\n\n/** Distribute yield into the vault (artist/authority only) */\nexport function useDistributeYield(trackId: string) {\n  const program = useProgram();\n  const { publicKey } = useWallet();\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (amountUsdc: number) => {\n      if (!program || !publicKey) throw new Error(\"Wallet not connected\");\n\n      const mint = usdcMint();\n      const [vaultPda] = getVaultPda(trackId);\n      const [vaultTokenAccount] = getVaultTokenPda(vaultPda);\n      const authorityUsdc = await getAssociatedTokenAddress(mint, publicKey);\n\n      const tx = await (program.methods as any)\n        .distributeYield(new BN(amountUsdc))\n        .accounts({\n          authority: publicKey,\n          vault: vaultPda,\n          authorityUsdc,\n          vaultTokenAccount,\n          tokenProgram: TOKEN_PROGRAM_ID,\n        })\n        .rpc();\n\n      return tx;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"vault\", trackId] });\n    },\n  });\n}\n\n/** Read-only program (no wallet needed — for fetching all vault accounts on the homepage) */\nfunction useReadonlyProgram() {\n  const { connection } = useConnection();\n  return useMemo(() => {\n    try {\n      const dummy = {\n        publicKey: new PublicKey(\"11111111111111111111111111111111\"),\n        signTransaction: async (tx: any) => tx,\n        signAllTransactions: async (txs: any[]) => txs,\n      };\n      const provider = new AnchorProvider(connection, dummy as any, AnchorProvider.defaultOptions());\n      return new Program(idl as any, provider);\n    } catch {\n      return null;\n    }\n  }, [connection]);\n}\n\nexport interface VaultInfo {\n  address: PublicKey;\n  audiusTrackId: string;\n  totalDeposited: number;\n  cap: number;\n  totalShares: number;\n  authority: PublicKey;\n  shareMint: PublicKey;\n  // Royalty pledge fields\n  royaltyPct: number;\n  distributionInterval: number; // 0=monthly, 1=quarterly, 2=milestone\n  vaultDurationMonths: number;  // 0 = ongoing\n  pledgeNote: string;\n  totalYieldDistributed: number;\n}\n\nexport interface VaultedTrack {\n  vault: VaultInfo;\n  track: AudiusTrack;\n}\n\n/** Fetch every TrackVault account on-chain (works without a connected wallet) */\nexport function useAllVaults() {\n  const program = useReadonlyProgram();\n\n  return useQuery({\n    queryKey: [\"all-vaults\"],\n    queryFn: async (): Promise<VaultInfo[]> => {\n      if (!program) return [];\n      const accounts = await (program.account as any).trackVault.all();\n      return accounts.map((a: any) => ({\n        address: a.publicKey as PublicKey,\n        audiusTrackId: a.account.audiusTrackId as string,\n        totalDeposited: (a.account.totalDeposited as BN).toNumber(),\n        cap: (a.account.cap as BN).toNumber(),\n        totalShares: (a.account.totalShares as BN).toNumber(),\n        authority: a.account.authority as PublicKey,\n        shareMint: a.account.shareMint as PublicKey,\n        royaltyPct: (a.account.royaltyPct as number) ?? 0,\n        distributionInterval: (a.account.distributionInterval as number) ?? 0,\n        vaultDurationMonths: (a.account.vaultDurationMonths as number) ?? 0,\n        pledgeNote: (a.account.pledgeNote as string) ?? \"\",\n        totalYieldDistributed: (a.account.totalYieldDistributed as BN).toNumber(),\n      }));\n    },\n    enabled: !!program,\n    staleTime: 30_000,\n  });\n}\n\n/** Fetch all vaults and hydrate each with Audius track metadata */\nexport function useVaultedTracks() {\n  const { data: vaults } = useAllVaults();\n\n  return useQuery({\n    queryKey: [\"vaulted-tracks\", vaults?.map((v) => v.audiusTrackId).join(\",\")],\n    queryFn: async (): Promise<VaultedTrack[]> => {\n      if (!vaults || vaults.length === 0) return [];\n      const results = await Promise.allSettled(vaults.map((v) => getTrack(v.audiusTrackId)));\n      return vaults\n        .map((vault, i) => {\n          const r = results[i];\n          return r.status === \"fulfilled\" ? { vault, track: r.value } : null;\n        })\n        .filter(Boolean) as VaultedTrack[];\n    },\n    enabled: Array.isArray(vaults),\n    staleTime: 60_000,\n  });\n}\n\n/** Withdraw from a track vault */\nexport function useWithdraw(trackId: string) {\n  const program = useProgram();\n  const { publicKey } = useWallet();\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (shares: number) => {\n      if (!program || !publicKey) throw new Error(\"Wallet not connected\");\n\n      const mint = usdcMint();\n      const [vaultPda] = getVaultPda(trackId);\n      const [vaultTokenAccount] = getVaultTokenPda(vaultPda);\n      const [shareMint] = getShareMintPda(vaultPda);\n      const [userPosition] = getUserPositionPda(vaultPda, publicKey);\n\n      const userUsdc = await getAssociatedTokenAddress(mint, publicKey);\n      const userShares = await getAssociatedTokenAddress(shareMint, publicKey);\n\n      const tx = await (program.methods as any)\n        .withdraw(new BN(shares))\n        .accounts({\n          user: publicKey,\n          vault: vaultPda,\n          userPosition,\n          vaultTokenAccount,\n          userUsdc,\n          shareMint,\n          userShares,\n          tokenProgram: TOKEN_PROGRAM_ID,\n        })\n        .rpc();\n\n      return tx;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"vault\", trackId] });\n      queryClient.invalidateQueries({ queryKey: [\"position\", trackId] });\n    },\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 678, "column": 0}, "map": {"version":3,"sources":["file:///D:/MusicValue/app/src/components/track/TrackCard.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { Play, Users, Heart, Lock } from \"lucide-react\";\nimport type { AudiusTrack } from \"@/services/audius\";\n\ninterface TrackCardProps {\n  track: AudiusTrack;\n  vaultStats?: {\n    totalDeposited: number;\n    cap: number;\n  } | null;\n}\n\nfunction formatNumber(n: number): string {\n  if (n >= 1_000_000) return `${(n / 1_000_000).toFixed(1)}M`;\n  if (n >= 1_000) return `${(n / 1_000).toFixed(1)}K`;\n  return n.toString();\n}\n\nfunction formatUSDC(amount: number): string {\n  return `$${(amount / 1_000_000).toFixed(0)}`;\n}\n\nexport function TrackCard({ track, vaultStats }: TrackCardProps) {\n  const progress = vaultStats\n    ? Math.min((vaultStats.totalDeposited / vaultStats.cap) * 100, 100)\n    : 0;\n\n  return (\n    <Link href={`/track/${track.id}`}>\n      <div className=\"glass-card group cursor-pointer overflow-hidden transition-all duration-300 hover:translate-y-[-2px] hover:shadow-lg hover:shadow-accent-purple/10\">\n        {/* Artwork */}\n        <div className=\"relative aspect-square overflow-hidden\">\n          <img\n            src={track.artwork?.[\"480x480\"] || \"/placeholder-track.svg\"}\n            alt={track.title}\n            className=\"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105\"\n            onError={(e) => { (e.target as HTMLImageElement).src = \"/placeholder-track.svg\"; }}\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-t from-base/80 via-transparent to-transparent\" />\n\n          {/* Play count overlay */}\n          <div className=\"absolute bottom-3 left-3 flex items-center gap-1.5 rounded-lg bg-black/50 px-2 py-1 backdrop-blur-sm\">\n            <Play className=\"h-3 w-3 text-accent-cyan\" />\n            <span className=\"text-xs font-medium text-white\">\n              {formatNumber(track.play_count)}\n            </span>\n          </div>\n\n          {/* Genre tag */}\n          {track.genre && (\n            <div className=\"absolute right-3 top-3 rounded-lg bg-accent-purple/20 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wider text-accent-purple backdrop-blur-sm\">\n              {track.genre}\n            </div>\n          )}\n        </div>\n\n        {/* Info */}\n        <div className=\"p-4\">\n          <h3 className=\"truncate text-sm font-semibold text-white\">\n            {track.title}\n          </h3>\n          <p className=\"mt-0.5 truncate text-xs text-slate-400\">\n            {track.user.name}\n          </p>\n\n          {/* Stats row */}\n          <div className=\"mt-3 flex items-center gap-3 text-xs text-slate-500\">\n            <span className=\"flex items-center gap-1\">\n              <Heart className=\"h-3 w-3\" />\n              {formatNumber(track.favorite_count)}\n            </span>\n            <span className=\"flex items-center gap-1\">\n              <Users className=\"h-3 w-3\" />\n              {formatNumber(track.repost_count)}\n            </span>\n          </div>\n\n          {/* Vault progress */}\n          {vaultStats ? (\n            <div className=\"mt-3\">\n              <div className=\"flex items-center justify-between text-[10px] text-slate-500\">\n                {progress >= 100 ? (\n                  <span className=\"flex items-center gap-1 font-medium text-yellow-400\">\n                    <Lock className=\"h-2.5 w-2.5\" />\n                    Vault Full\n                  </span>\n                ) : (\n                  <span>{formatUSDC(vaultStats.totalDeposited)} backed</span>\n                )}\n                <span>{formatUSDC(vaultStats.cap)} cap</span>\n              </div>\n              <div className=\"vault-progress mt-1 h-1.5\">\n                <div\n                  className={`vault-progress-bar ${progress >= 100 ? \"!bg-yellow-400\" : \"\"}`}\n                  style={{ width: `${progress}%` }}\n                />\n              </div>\n            </div>\n          ) : (\n            <div className=\"mt-3\">\n              <span className=\"text-[10px] font-medium text-accent-purple\">\n                No vault yet - Be the first backer\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAcA,SAAS,aAAa,CAAS;IAC7B,IAAI,KAAK,WAAW,OAAO,GAAG,CAAC,IAAI,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IAC3D,IAAI,KAAK,OAAO,OAAO,GAAG,CAAC,IAAI,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IACnD,OAAO,EAAE,QAAQ;AACnB;AAEA,SAAS,WAAW,MAAc;IAChC,OAAO,CAAC,CAAC,EAAE,CAAC,SAAS,SAAS,EAAE,OAAO,CAAC,IAAI;AAC9C;AAEO,SAAS,UAAU,EAAE,KAAK,EAAE,UAAU,EAAkB;IAC7D,MAAM,WAAW,aACb,KAAK,GAAG,CAAC,AAAC,WAAW,cAAc,GAAG,WAAW,GAAG,GAAI,KAAK,OAC7D;IAEJ,qBACE,8VAAC,2UAAI;QAAC,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;kBAC9B,cAAA,8VAAC;YAAI,WAAU;;8BAEb,8VAAC;oBAAI,WAAU;;sCACb,8VAAC;4BACC,KAAK,MAAM,OAAO,EAAE,CAAC,UAAU,IAAI;4BACnC,KAAK,MAAM,KAAK;4BAChB,WAAU;4BACV,SAAS,CAAC;gCAAS,EAAE,MAAM,CAAsB,GAAG,GAAG;4BAA0B;;;;;;sCAEnF,8VAAC;4BAAI,WAAU;;;;;;sCAGf,8VAAC;4BAAI,WAAU;;8CACb,8VAAC,iSAAI;oCAAC,WAAU;;;;;;8CAChB,8VAAC;oCAAK,WAAU;8CACb,aAAa,MAAM,UAAU;;;;;;;;;;;;wBAKjC,MAAM,KAAK,kBACV,8VAAC;4BAAI,WAAU;sCACZ,MAAM,KAAK;;;;;;;;;;;;8BAMlB,8VAAC;oBAAI,WAAU;;sCACb,8VAAC;4BAAG,WAAU;sCACX,MAAM,KAAK;;;;;;sCAEd,8VAAC;4BAAE,WAAU;sCACV,MAAM,IAAI,CAAC,IAAI;;;;;;sCAIlB,8VAAC;4BAAI,WAAU;;8CACb,8VAAC;oCAAK,WAAU;;sDACd,8VAAC,oSAAK;4CAAC,WAAU;;;;;;wCAChB,aAAa,MAAM,cAAc;;;;;;;8CAEpC,8VAAC;oCAAK,WAAU;;sDACd,8VAAC,oSAAK;4CAAC,WAAU;;;;;;wCAChB,aAAa,MAAM,YAAY;;;;;;;;;;;;;wBAKnC,2BACC,8VAAC;4BAAI,WAAU;;8CACb,8VAAC;oCAAI,WAAU;;wCACZ,YAAY,oBACX,8VAAC;4CAAK,WAAU;;8DACd,8VAAC,iSAAI;oDAAC,WAAU;;;;;;gDAAgB;;;;;;iEAIlC,8VAAC;;gDAAM,WAAW,WAAW,cAAc;gDAAE;;;;;;;sDAE/C,8VAAC;;gDAAM,WAAW,WAAW,GAAG;gDAAE;;;;;;;;;;;;;8CAEpC,8VAAC;oCAAI,WAAU;8CACb,cAAA,8VAAC;wCACC,WAAW,CAAC,mBAAmB,EAAE,YAAY,MAAM,mBAAmB,IAAI;wCAC1E,OAAO;4CAAE,OAAO,GAAG,SAAS,CAAC,CAAC;wCAAC;;;;;;;;;;;;;;;;iDAKrC,8VAAC;4BAAI,WAAU;sCACb,cAAA,8VAAC;gCAAK,WAAU;0CAA6C;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS3E;KAvFgB"}},
    {"offset": {"line": 942, "column": 0}, "map": {"version":3,"sources":["file:///D:/MusicValue/app/src/components/track/TrackGrid.tsx"],"sourcesContent":["\"use client\";\n\nimport { TrackCard } from \"./TrackCard\";\nimport type { AudiusTrack } from \"@/services/audius\";\n\ninterface TrackGridProps {\n  tracks: AudiusTrack[];\n  title?: string;\n  subtitle?: string;\n  isLoading?: boolean;\n}\n\nfunction SkeletonCard() {\n  return (\n    <div className=\"glass-card overflow-hidden\">\n      <div className=\"aspect-square animate-pulse bg-base-100\" />\n      <div className=\"p-4 space-y-2\">\n        <div className=\"h-4 w-3/4 animate-pulse rounded bg-base-100\" />\n        <div className=\"h-3 w-1/2 animate-pulse rounded bg-base-100\" />\n        <div className=\"mt-3 h-1.5 w-full animate-pulse rounded-full bg-base-100\" />\n      </div>\n    </div>\n  );\n}\n\nexport function TrackGrid({\n  tracks,\n  title,\n  subtitle,\n  isLoading,\n}: TrackGridProps) {\n  return (\n    <section>\n      {(title || subtitle) && (\n        <div className=\"mb-6\">\n          {title && (\n            <h2 className=\"text-xl font-bold text-white\">{title}</h2>\n          )}\n          {subtitle && (\n            <p className=\"mt-1 text-sm text-slate-400\">{subtitle}</p>\n          )}\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5\">\n        {isLoading\n          ? Array.from({ length: 10 }).map((_, i) => <SkeletonCard key={i} />)\n          : tracks.map((track) => (\n              <TrackCard key={track.id} track={track} />\n            ))}\n      </div>\n\n      {!isLoading && tracks.length === 0 && (\n        <div className=\"flex flex-col items-center justify-center py-20 text-center\">\n          <p className=\"text-lg font-medium text-slate-400\">No tracks found</p>\n          <p className=\"mt-1 text-sm text-slate-500\">\n            Try searching for something else\n          </p>\n        </div>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYA,SAAS;IACP,qBACE,8VAAC;QAAI,WAAU;;0BACb,8VAAC;gBAAI,WAAU;;;;;;0BACf,8VAAC;gBAAI,WAAU;;kCACb,8VAAC;wBAAI,WAAU;;;;;;kCACf,8VAAC;wBAAI,WAAU;;;;;;kCACf,8VAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB;KAXS;AAaF,SAAS,UAAU,EACxB,MAAM,EACN,KAAK,EACL,QAAQ,EACR,SAAS,EACM;IACf,qBACE,8VAAC;;YACE,CAAC,SAAS,QAAQ,mBACjB,8VAAC;gBAAI,WAAU;;oBACZ,uBACC,8VAAC;wBAAG,WAAU;kCAAgC;;;;;;oBAE/C,0BACC,8VAAC;wBAAE,WAAU;kCAA+B;;;;;;;;;;;;0BAKlD,8VAAC;gBAAI,WAAU;0BACZ,YACG,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAG,GAAG,GAAG,CAAC,CAAC,GAAG,kBAAM,8VAAC,kBAAkB;;;;gCAC5D,OAAO,GAAG,CAAC,CAAC,sBACV,8VAAC,wJAAS;wBAAgB,OAAO;uBAAjB,MAAM,EAAE;;;;;;;;;;YAI/B,CAAC,aAAa,OAAO,MAAM,KAAK,mBAC/B,8VAAC;gBAAI,WAAU;;kCACb,8VAAC;wBAAE,WAAU;kCAAqC;;;;;;kCAClD,8VAAC;wBAAE,WAAU;kCAA8B;;;;;;;;;;;;;;;;;;AAOrD;MArCgB"}},
    {"offset": {"line": 1091, "column": 0}, "map": {"version":3,"sources":["file:///D:/MusicValue/app/src/components/track/RaisingSection.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useVaultedTracks, VaultedTrack } from \"@/hooks/useVault\";\nimport { USDC_DECIMALS } from \"@/lib/constants\";\nimport {\n  Users,\n  Zap,\n  ArrowRight,\n  Mic2,\n  Music,\n  Lock,\n  BadgePercent,\n} from \"lucide-react\";\n\n// ─── helpers ───────────────────────────────────────────────────────────────\n\nfunction formatUSDC(raw: number) {\n  const n = raw / 10 ** USDC_DECIMALS;\n  if (n >= 1_000) return `$${(n / 1_000).toFixed(1)}K`;\n  return `$${n.toFixed(0)}`;\n}\n\nfunction pct(deposited: number, cap: number) {\n  return cap > 0 ? Math.min((deposited / cap) * 100, 100) : 0;\n}\n\n// ─── skeleton card ──────────────────────────────────────────────────────────\n\nfunction SkeletonRaisingCard() {\n  return (\n    <div className=\"glass-card overflow-hidden\">\n      <div className=\"aspect-[4/3] animate-pulse bg-base-100\" />\n      <div className=\"p-4 space-y-3\">\n        <div className=\"h-4 w-3/4 animate-pulse rounded bg-base-100\" />\n        <div className=\"flex items-center gap-2\">\n          <div className=\"h-5 w-5 animate-pulse rounded-full bg-base-100\" />\n          <div className=\"h-3 w-1/3 animate-pulse rounded bg-base-100\" />\n        </div>\n        <div className=\"h-1.5 w-full animate-pulse rounded-full bg-base-100\" />\n        <div className=\"flex justify-between\">\n          <div className=\"h-3 w-1/4 animate-pulse rounded bg-base-100\" />\n          <div className=\"h-3 w-1/4 animate-pulse rounded bg-base-100\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ─── single raising card ─────────────────────────────────────────────────────\n\nfunction RaisingCard({ item }: { item: VaultedTrack }) {\n  const { vault, track } = item;\n  const progress = pct(vault.totalDeposited, vault.cap);\n  const raised = formatUSDC(vault.totalDeposited);\n  const cap = formatUSDC(vault.cap);\n  const backers = vault.totalShares;\n\n  return (\n    <Link href={`/track/${track.id}`}>\n      <div className=\"glass-card group cursor-pointer overflow-hidden transition-all duration-300 hover:translate-y-[-2px] hover:shadow-xl hover:shadow-accent-purple/10\">\n        {/* Artwork */}\n        <div className=\"relative aspect-[4/3] overflow-hidden\">\n          <img\n            src={track.artwork?.[\"480x480\"] || \"/placeholder-track.svg\"}\n            alt={track.title}\n            className=\"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105\"\n            onError={(e) => { (e.target as HTMLImageElement).src = \"/placeholder-track.svg\"; }}\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-t from-base/90 via-base/20 to-transparent\" />\n\n          {/* Genre + royalty pledge badges */}\n          <div className=\"absolute left-3 top-3 flex flex-wrap gap-1.5\">\n            {track.genre && (\n              <span className=\"rounded-md bg-black/50 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wider text-accent-purple backdrop-blur-sm\">\n                {track.genre}\n              </span>\n            )}\n            {vault.royaltyPct > 0 && (\n              <span className=\"flex items-center gap-0.5 rounded-md bg-accent-cyan/20 px-2 py-0.5 text-[10px] font-semibold text-accent-cyan backdrop-blur-sm\">\n                <BadgePercent className=\"h-2.5 w-2.5\" />\n                {vault.royaltyPct}% royalties\n              </span>\n            )}\n          </div>\n\n          {/* Progress pill overlay at bottom of image */}\n          <div className=\"absolute bottom-0 left-0 right-0 px-3 pb-2\">\n            <div className=\"mb-1 flex items-center justify-between text-[10px]\">\n              {progress >= 100 ? (\n                <span className=\"flex items-center gap-1 font-semibold text-yellow-400\">\n                  <Lock className=\"h-2.5 w-2.5\" />\n                  Vault Full\n                </span>\n              ) : (\n                <span className=\"font-semibold text-white\">{raised} raised</span>\n              )}\n              <span className=\"text-slate-400\">cap {cap}</span>\n            </div>\n            <div className=\"h-1.5 w-full overflow-hidden rounded-full bg-white/10\">\n              <div\n                className={`h-full rounded-full transition-all ${\n                  progress >= 100\n                    ? \"bg-yellow-400\"\n                    : \"bg-gradient-to-r from-accent-purple to-accent-cyan\"\n                }`}\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Info */}\n        <div className=\"p-4\">\n          <h3 className=\"truncate font-semibold text-white\">{track.title}</h3>\n\n          {/* Artist row */}\n          <div className=\"mt-1.5 flex items-center gap-2\">\n            {track.user.profile_picture ? (\n              <img\n                src={track.user.profile_picture[\"150x150\"]}\n                alt={track.user.name}\n                className=\"h-5 w-5 flex-shrink-0 rounded-full object-cover ring-1 ring-accent-purple/30\"\n                onError={(e) => { (e.target as HTMLImageElement).src = \"/placeholder-avatar.svg\"; }}\n              />\n            ) : (\n              <div className=\"flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-accent-purple/20\">\n                <Music className=\"h-2.5 w-2.5 text-accent-purple\" />\n              </div>\n            )}\n            <span className=\"truncate text-xs text-slate-400\">{track.user.name}</span>\n          </div>\n\n          {/* Stats */}\n          <div className=\"mt-3 flex items-center justify-between text-xs text-slate-500\">\n            <span className=\"flex items-center gap-1\">\n              <Users className=\"h-3 w-3\" />\n              {backers.toLocaleString()} backers\n            </span>\n            <span className=\"font-semibold text-accent-cyan\">\n              {progress.toFixed(0)}% funded\n            </span>\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n\n// ─── artist chip row ─────────────────────────────────────────────────────────\n\nfunction ArtistChips({ items }: { items: VaultedTrack[] }) {\n  // Deduplicate by artist id\n  const artists = Array.from(\n    new Map(items.map((i) => [i.track.user.id, i.track.user])).values()\n  );\n\n  if (artists.length === 0) return null;\n\n  return (\n    <div className=\"mt-8\">\n      <h3 className=\"mb-3 text-sm font-semibold text-slate-400 uppercase tracking-wider\">\n        Artists on MusicValue\n      </h3>\n      <div className=\"flex flex-wrap gap-2\">\n        {artists.map((artist) => (\n          <a\n            key={artist.id}\n            href={`https://audius.co/${artist.handle}`}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className=\"flex items-center gap-2 rounded-full border border-base-200 bg-base-50 px-3 py-1.5 text-xs text-slate-300 transition-colors hover:border-accent-purple/40 hover:text-white\"\n          >\n            {artist.profile_picture ? (\n              <img\n                src={artist.profile_picture[\"150x150\"]}\n                alt={artist.name}\n                className=\"h-5 w-5 rounded-full object-cover\"\n                onError={(e) => { (e.target as HTMLImageElement).src = \"/placeholder-avatar.svg\"; }}\n              />\n            ) : (\n              <div className=\"flex h-5 w-5 items-center justify-center rounded-full bg-accent-purple/20\">\n                <Mic2 className=\"h-2.5 w-2.5 text-accent-purple\" />\n              </div>\n            )}\n            {artist.name}\n          </a>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ─── empty state ─────────────────────────────────────────────────────────────\n\nfunction EmptyState() {\n  return (\n    <div className=\"flex flex-col items-center justify-center rounded-2xl border border-dashed border-base-200 py-20 text-center\">\n      <div className=\"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-accent-purple/10\">\n        <Zap className=\"h-8 w-8 text-accent-purple\" />\n      </div>\n      <h3 className=\"text-lg font-bold text-white\">No vaults yet</h3>\n      <p className=\"mt-2 max-w-sm text-sm text-slate-400\">\n        Be the first artist to launch a music vault on MusicValue. Connect your\n        Audius account and let fans back your tracks.\n      </p>\n      <Link\n        href=\"/artist/register\"\n        className=\"btn-primary mt-6 inline-flex items-center gap-2 text-sm\"\n      >\n        <Mic2 className=\"h-4 w-4\" />\n        Launch Your Vault\n        <ArrowRight className=\"h-4 w-4\" />\n      </Link>\n    </div>\n  );\n}\n\n// ─── main section ─────────────────────────────────────────────────────────────\n\nexport function RaisingSection() {\n  const { data: items, isLoading } = useVaultedTracks();\n\n  return (\n    <section id=\"raising\" className=\"pb-16 pt-4\">\n      {/* Header */}\n      <div className=\"mb-6 flex items-end justify-between\">\n        <div>\n          <h2 className=\"text-xl font-bold text-white\">Raising Now</h2>\n          <p className=\"mt-1 text-sm text-slate-400\">\n            Tracks actively raising on MusicValue — back them to earn yield\n          </p>\n        </div>\n        {items && items.length > 0 && (\n          <div className=\"flex items-center gap-1.5 rounded-full border border-accent-cyan/20 bg-accent-cyan/5 px-3 py-1.5 text-xs font-medium text-accent-cyan\">\n            <span className=\"relative flex h-2 w-2\">\n              <span className=\"absolute inline-flex h-full w-full animate-ping rounded-full bg-accent-cyan opacity-60\" />\n              <span className=\"relative inline-flex h-2 w-2 rounded-full bg-accent-cyan\" />\n            </span>\n            {items.length} live vault{items.length !== 1 ? \"s\" : \"\"}\n          </div>\n        )}\n      </div>\n\n      {/* Grid */}\n      {isLoading ? (\n        <div className=\"grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\n          {Array.from({ length: 4 }).map((_, i) => (\n            <SkeletonRaisingCard key={i} />\n          ))}\n        </div>\n      ) : !items || items.length === 0 ? (\n        <EmptyState />\n      ) : (\n        <>\n          <div className=\"grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\n            {items.map((item) => (\n              <RaisingCard key={item.vault.audiusTrackId} item={item} />\n            ))}\n          </div>\n          <ArtistChips items={items} />\n        </>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1752, "column": 0}, "map": {"version":3,"sources":["file:///D:/MusicValue/app/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSearchParams } from \"next/navigation\";\nimport { Suspense } from \"react\";\nimport { useSearchTracks } from \"@/hooks/useAudius\";\nimport { useVaultedTracks } from \"@/hooks/useVault\";\nimport { TrackGrid } from \"@/components/track/TrackGrid\";\nimport { RaisingSection } from \"@/components/track/RaisingSection\";\nimport {\n  Music,\n  Zap,\n  ArrowRight,\n  Mic2,\n  Shield,\n  Users,\n  TrendingUp,\n  BadgePercent,\n  Coins,\n  Globe,\n  ChevronDown,\n  CheckCircle,\n  Wallet,\n} from \"lucide-react\";\nimport Link from \"next/link\";\n\n// ─── Live stats bar ────────────────────────────────────────────────────────\n\nfunction StatsBar() {\n  const { data: items } = useVaultedTracks();\n  const vaultCount = items?.length ?? 0;\n  const totalBacked = items?.reduce((s, i) => s + i.vault.totalDeposited, 0) ?? 0;\n  const totalBackers = items?.reduce((s, i) => s + i.vault.totalShares, 0) ?? 0;\n  const totalYield = items?.reduce((s, i) => s + i.vault.totalYieldDistributed, 0) ?? 0;\n\n  const fmt = (n: number) => {\n    const usdc = n / 1_000_000;\n    if (usdc >= 1000) return `$${(usdc / 1000).toFixed(1)}K`;\n    return `$${usdc.toFixed(0)}`;\n  };\n\n  if (vaultCount === 0) return null;\n\n  return (\n    <div className=\"border-y border-base-200/60 bg-base-50/50 py-3\">\n      <div className=\"mx-auto flex max-w-7xl items-center justify-center gap-8 px-4 sm:px-6\">\n        {[\n          { label: \"Live Vaults\", value: vaultCount.toString() },\n          { label: \"Total Backed\", value: fmt(totalBacked) },\n          { label: \"Shares Minted\", value: (totalBackers / 1_000_000).toLocaleString(\"en-US\", { maximumFractionDigits: 0 }) },\n          { label: \"Yield Distributed\", value: fmt(totalYield) },\n        ].map((s) => (\n          <div key={s.label} className=\"text-center\">\n            <p className=\"text-base font-bold text-white\">{s.value}</p>\n            <p className=\"text-[10px] uppercase tracking-wider text-slate-500\">{s.label}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ─── Hero ──────────────────────────────────────────────────────────────────\n\nfunction HeroSection() {\n  return (\n    <section className=\"relative overflow-hidden pb-16 pt-20\">\n      {/* Background glows */}\n      <div className=\"pointer-events-none absolute inset-0\">\n        <div className=\"absolute left-1/2 top-0 -translate-x-1/2 -translate-y-1/3 h-[600px] w-[900px] rounded-full bg-accent-purple/10 blur-[140px]\" />\n        <div className=\"absolute right-0 top-1/2 h-[400px] w-[500px] -translate-y-1/2 rounded-full bg-accent-cyan/6 blur-[120px]\" />\n        <div className=\"absolute bottom-0 left-0 h-[300px] w-[400px] rounded-full bg-accent-pink/5 blur-[100px]\" />\n      </div>\n\n      <div className=\"relative mx-auto max-w-4xl px-4 text-center sm:px-6\">\n        {/* Badge */}\n        <div className=\"mb-6 inline-flex items-center gap-2 rounded-full border border-accent-purple/20 bg-accent-purple/10 px-4 py-1.5 text-sm text-accent-purple\">\n          <Zap className=\"h-3.5 w-3.5\" />\n          On-Chain Music Funding · Built on Solana\n        </div>\n\n        {/* Headline */}\n        <h1 className=\"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl\">\n          Back the music you believe in.\n          <br />\n          <span className=\"gradient-text\">Earn when the artist wins.</span>\n        </h1>\n\n        {/* Subheadline */}\n        <p className=\"mx-auto mt-6 max-w-2xl text-lg leading-relaxed text-slate-400\">\n          Artists raise production capital from fans via trustless on-chain vaults.\n          Fans receive share tokens and earn a cut of the artist's royalties —\n          distributed directly on-chain, no middlemen.\n        </p>\n\n        {/* CTAs */}\n        <div className=\"mt-8 flex flex-wrap items-center justify-center gap-4\">\n          <a href=\"#raising\" className=\"btn-primary inline-flex items-center gap-2 text-base px-6 py-3\">\n            See Live Vaults\n            <ArrowRight className=\"h-4 w-4\" />\n          </a>\n          <Link\n            href=\"/artist/register\"\n            className=\"btn-secondary inline-flex items-center gap-2 text-base px-6 py-3\"\n          >\n            <Mic2 className=\"h-4 w-4\" />\n            Launch Your Vault\n          </Link>\n        </div>\n\n        {/* Scroll cue */}\n        <div className=\"mt-10 flex justify-center\">\n          <a href=\"#how-it-works\" className=\"flex flex-col items-center gap-1 text-slate-600 transition-colors hover:text-slate-400\">\n            <span className=\"text-xs uppercase tracking-widest\">How it works</span>\n            <ChevronDown className=\"h-4 w-4 animate-bounce\" />\n          </a>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// ─── How it works ──────────────────────────────────────────────────────────\n\nfunction HowItWorks() {\n  const steps = [\n    {\n      n: \"01\",\n      icon: <Mic2 className=\"h-5 w-5 text-accent-purple\" />,\n      color: \"purple\",\n      title: \"Artist Creates a Vault\",\n      desc: \"An artist verifies their Audius identity via OAuth, selects a track, sets a funding cap, and publicly pledges what percentage of royalties they'll distribute back to backers and on what schedule.\",\n    },\n    {\n      n: \"02\",\n      icon: <Coins className=\"h-5 w-5 text-accent-cyan\" />,\n      color: \"cyan\",\n      title: \"Fans Deposit USDC\",\n      desc: \"Fans deposit USDC into the vault and instantly receive share tokens proportional to their contribution. Every deposit and share issuance is recorded on Solana — fully transparent and non-custodial.\",\n    },\n    {\n      n: \"03\",\n      icon: <BadgePercent className=\"h-5 w-5 text-accent-pink\" />,\n      color: \"pink\",\n      title: \"Royalties Flow On-Chain\",\n      desc: \"As the track earns royalties on Audius and other platforms, the artist sends a portion directly into the vault. This increases the share price — backers can withdraw more USDC than they put in.\",\n    },\n  ];\n\n  return (\n    <section id=\"how-it-works\" className=\"py-16\">\n      <div className=\"mx-auto max-w-5xl px-4 sm:px-6\">\n        <div className=\"mb-10 text-center\">\n          <h2 className=\"text-2xl font-bold text-white\">How It Works</h2>\n          <p className=\"mt-2 text-sm text-slate-400\">Three steps. Fully on-chain. No trust required.</p>\n        </div>\n\n        <div className=\"grid gap-6 sm:grid-cols-3\">\n          {steps.map((s) => (\n            <div key={s.n} className=\"glass-card p-6\">\n              <div className=\"mb-4 flex items-center gap-3\">\n                <div className={`flex h-10 w-10 items-center justify-center rounded-xl bg-accent-${s.color}/10`}>\n                  {s.icon}\n                </div>\n                <span className={`text-3xl font-extrabold text-accent-${s.color}/20`}>{s.n}</span>\n              </div>\n              <h3 className=\"font-semibold text-white\">{s.title}</h3>\n              <p className=\"mt-2 text-sm leading-relaxed text-slate-400\">{s.desc}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// ─── For Fans / For Artists split ──────────────────────────────────────────\n\nfunction BenefitsSection() {\n  return (\n    <section className=\"py-16\">\n      <div className=\"mx-auto max-w-5xl px-4 sm:px-6\">\n        <div className=\"grid gap-6 md:grid-cols-2\">\n          {/* For Fans */}\n          <div className=\"rounded-2xl border border-accent-cyan/20 bg-accent-cyan/5 p-6\">\n            <div className=\"mb-4 flex items-center gap-3\">\n              <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-accent-cyan/10\">\n                <Users className=\"h-5 w-5 text-accent-cyan\" />\n              </div>\n              <h2 className=\"text-lg font-bold text-white\">For Fans</h2>\n            </div>\n            <ul className=\"space-y-3\">\n              {[\n                \"Deposit USDC and receive share tokens instantly\",\n                \"Earn a share of the artist's real royalty income\",\n                \"Watch your share price grow with every distribution\",\n                \"Withdraw your principal + yield at any time\",\n                \"Every transaction visible on Solana Explorer\",\n              ].map((item) => (\n                <li key={item} className=\"flex items-start gap-2 text-sm text-slate-300\">\n                  <CheckCircle className=\"mt-0.5 h-4 w-4 flex-shrink-0 text-accent-cyan\" />\n                  {item}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* For Artists */}\n          <div className=\"rounded-2xl border border-accent-purple/20 bg-accent-purple/5 p-6\">\n            <div className=\"mb-4 flex items-center gap-3\">\n              <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-accent-purple/10\">\n                <Mic2 className=\"h-5 w-5 text-accent-purple\" />\n              </div>\n              <h2 className=\"text-lg font-bold text-white\">For Artists</h2>\n            </div>\n            <ul className=\"space-y-3\">\n              {[\n                \"Raise production capital directly from your fanbase\",\n                \"Verify track ownership via Audius OAuth — no paperwork\",\n                \"Set your own funding cap, royalty %, and distribution schedule\",\n                \"Pledge is recorded on-chain — publicly visible to all backers\",\n                \"Build a community with real financial skin in the game\",\n              ].map((item) => (\n                <li key={item} className=\"flex items-start gap-2 text-sm text-slate-300\">\n                  <CheckCircle className=\"mt-0.5 h-4 w-4 flex-shrink-0 text-accent-purple\" />\n                  {item}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// ─── Why trustless ─────────────────────────────────────────────────────────\n\nfunction TrustlessSection() {\n  const pillars = [\n    {\n      icon: <Shield className=\"h-6 w-6 text-accent-purple\" />,\n      title: \"Non-Custodial\",\n      desc: \"Your USDC lives in a Solana PDA vault — not a company wallet. No one can freeze or take your funds.\",\n    },\n    {\n      icon: <Globe className=\"h-6 w-6 text-accent-cyan\" />,\n      title: \"Fully Transparent\",\n      desc: \"Every deposit, withdrawal, and royalty distribution is a public on-chain transaction. Verify anything on Solana Explorer.\",\n    },\n    {\n      icon: <TrendingUp className=\"h-6 w-6 text-accent-pink\" />,\n      title: \"Real Yield\",\n      desc: \"Returns come from actual music royalties pushed by the artist, not from DeFi leverage or token inflation.\",\n    },\n    {\n      icon: <Wallet className=\"h-6 w-6 text-accent-cyan\" />,\n      title: \"Exit Anytime\",\n      desc: \"Withdraw your share tokens for their current USDC value at any time — no lock-up periods, no withdrawal fees.\",\n    },\n  ];\n\n  return (\n    <section className=\"py-16\">\n      <div className=\"mx-auto max-w-5xl px-4 sm:px-6\">\n        <div className=\"mb-10 text-center\">\n          <h2 className=\"text-2xl font-bold text-white\">Trustless by Design</h2>\n          <p className=\"mt-2 text-sm text-slate-400\">\n            The smart contract enforces every rule. We can't change the terms, and neither can the artist.\n          </p>\n        </div>\n        <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n          {pillars.map((p) => (\n            <div key={p.title} className=\"glass-card p-5\">\n              <div className=\"mb-3 flex h-10 w-10 items-center justify-center rounded-xl bg-base-100\">\n                {p.icon}\n              </div>\n              <h3 className=\"font-semibold text-white\">{p.title}</h3>\n              <p className=\"mt-1.5 text-xs leading-relaxed text-slate-400\">{p.desc}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// ─── FAQ ───────────────────────────────────────────────────────────────────\n\nfunction FAQ() {\n  const items = [\n    {\n      q: \"How does yield actually work?\",\n      a: \"Depositing 100 USDC mints you 100 share tokens. When the artist distributes royalties into the vault, the share price increases — your 100 shares might now be worth 112 USDC. The difference is your yield. Withdraw anytime to realise it.\",\n    },\n    {\n      q: \"What stops an artist from never distributing royalties?\",\n      a: \"The artist's pledge (royalty %, schedule, duration) is stored on-chain at vault creation — permanently visible to anyone. The vault itself doesn't hold any royalties in escrow, but the public pledge creates social and reputational accountability. Future versions will integrate automatic royalty routing.\",\n    },\n    {\n      q: \"Can I get my money back before the vault ends?\",\n      a: \"Yes. You can withdraw your share tokens for their current USDC value at any time. If the artist has already distributed yield, you'll receive more than you deposited.\",\n    },\n    {\n      q: \"Why Audius for artist verification?\",\n      a: \"Audius is an on-chain music streaming platform. When an artist connects via Audius OAuth, we can cryptographically verify they own the track ID the vault is created for — preventing impersonation.\",\n    },\n  ];\n\n  return (\n    <section className=\"py-16\">\n      <div className=\"mx-auto max-w-3xl px-4 sm:px-6\">\n        <div className=\"mb-10 text-center\">\n          <h2 className=\"text-2xl font-bold text-white\">Frequently Asked Questions</h2>\n        </div>\n        <div className=\"space-y-4\">\n          {items.map((item) => (\n            <div key={item.q} className=\"glass-card p-5\">\n              <h3 className=\"font-semibold text-white\">{item.q}</h3>\n              <p className=\"mt-2 text-sm leading-relaxed text-slate-400\">{item.a}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// ─── Artist CTA ────────────────────────────────────────────────────────────\n\nfunction ArtistCTA() {\n  return (\n    <section className=\"pb-20 pt-4\">\n      <div className=\"mx-auto max-w-5xl px-4 sm:px-6\">\n        <div className=\"relative overflow-hidden rounded-2xl border border-accent-purple/20 bg-accent-purple/5 px-8 py-12 text-center\">\n          <div className=\"pointer-events-none absolute inset-0 bg-gradient-to-br from-accent-purple/15 via-transparent to-accent-cyan/8\" />\n          <div className=\"relative\">\n            <div className=\"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-2xl bg-accent-purple/20\">\n              <Mic2 className=\"h-7 w-7 text-accent-purple\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-white\">Ready to launch your vault?</h2>\n            <p className=\"mx-auto mt-3 max-w-lg text-sm leading-relaxed text-slate-400\">\n              Connect your Audius account, pick a track you own, set your funding goal and royalty pledge.\n              Your vault goes live in minutes — fans can start backing immediately.\n            </p>\n            <div className=\"mt-6 flex flex-wrap items-center justify-center gap-3\">\n              <Link href=\"/artist/register\" className=\"btn-primary inline-flex items-center gap-2\">\n                <Mic2 className=\"h-4 w-4\" />\n                Create a Vault\n                <ArrowRight className=\"h-4 w-4\" />\n              </Link>\n              <Link href=\"/artist\" className=\"btn-secondary inline-flex items-center gap-2\">\n                <Music className=\"h-4 w-4\" />\n                Artist Dashboard\n              </Link>\n            </div>\n            <p className=\"mt-4 text-xs text-slate-600\">\n              Devnet only · No real funds at risk · Powered by Solana, Audius & OrbitFlare\n            </p>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// ─── Main page ─────────────────────────────────────────────────────────────\n\nfunction HomeContent() {\n  const searchParams = useSearchParams();\n  const searchQuery = searchParams.get(\"search\") || \"\";\n  const { data: searchResults, isLoading: searchLoading } = useSearchTracks(searchQuery);\n  const isSearching = searchQuery.length > 2;\n\n  return (\n    <div>\n      <HeroSection />\n      <StatsBar />\n\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6\">\n        <HowItWorks />\n        <BenefitsSection />\n        <TrustlessSection />\n\n        {isSearching && (\n          <section className=\"pb-8\">\n            <TrackGrid\n              tracks={searchResults || []}\n              title={`Results for \"${searchQuery}\"`}\n              isLoading={searchLoading}\n            />\n          </section>\n        )}\n\n        <RaisingSection />\n        <FAQ />\n        <ArtistCTA />\n      </div>\n    </div>\n  );\n}\n\nexport default function HomePage() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"flex min-h-[50vh] items-center justify-center\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-accent-purple border-t-transparent\" />\n        </div>\n      }\n    >\n      <HomeContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}